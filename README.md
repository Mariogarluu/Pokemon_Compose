# üéÆ Pok√©mon Compose

Una aplicaci√≥n Android moderna desarrollada con Jetpack Compose que muestra una lista de Pok√©mon con sus sprites y artwork oficial.

## üì± Caracter√≠sticas

- **Lista de Pok√©mon**: Visualiza una colecci√≥n de Pok√©mon cl√°sicos con sus sprites
- **Detalle de Pok√©mon**: Toca cualquier Pok√©mon para ver su artwork en alta calidad
- **Navegaci√≥n fluida**: Navegaci√≥n intuitiva entre pantallas usando Jetpack Navigation
- **Dise√±o Material 3**: Interfaz moderna siguiendo las directrices de Material Design 3
- **Arquitectura MVVM**: C√≥digo limpio y mantenible con patr√≥n Model-View-ViewModel

## üé® Pok√©mon Incluidos

La aplicaci√≥n incluye los siguientes Pok√©mon:

1. **Bulbasaur** (#001) - Tipo Planta/Veneno
2. **Charmander** (#004) - Tipo Fuego
3. **Squirtle** (#007) - Tipo Agua
4. **Caterpie** (#010) - Tipo Bicho
5. **Pikachu** (#025) - Tipo El√©ctrico
6. **Jigglypuff** (#039) - Tipo Normal/Hada
7. **Eevee** (#133) - Tipo Normal
8. **Snorlax** (#143) - Tipo Normal

## üèóÔ∏è Arquitectura

El proyecto sigue una arquitectura limpia con separaci√≥n de responsabilidades:

```
com.turingalan.pokemon/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ model/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Pokemon.kt              # Modelo de datos
‚îÇ   ‚îî‚îÄ‚îÄ repository/
‚îÇ       ‚îú‚îÄ‚îÄ PokemonRepository.kt     # Interfaz del repositorio
‚îÇ       ‚îî‚îÄ‚îÄ PokemonInMemoryRepository.kt  # Implementaci√≥n en memoria
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îú‚îÄ‚îÄ list/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PokemonListScreen.kt    # Pantalla de lista
‚îÇ   ‚îú‚îÄ‚îÄ detail/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PokemonDetailScreen.kt  # Pantalla de detalle
‚îÇ   ‚îî‚îÄ‚îÄ theme/
‚îÇ       ‚îú‚îÄ‚îÄ Color.kt                # Colores del tema
‚îÇ       ‚îú‚îÄ‚îÄ Theme.kt                # Tema de la app
‚îÇ       ‚îî‚îÄ‚îÄ Type.kt                 # Tipograf√≠a
‚îú‚îÄ‚îÄ PokemonViewModel.kt             # ViewModel principal
‚îú‚îÄ‚îÄ PokemonUiState.kt               # Estados de la UI (sealed class)
‚îî‚îÄ‚îÄ MainActivity.kt                 # Actividad principal

```

## üõ†Ô∏è Tecnolog√≠as Utilizadas

### Core
- **Kotlin** (2.2.20) - Lenguaje de programaci√≥n principal
- **Android SDK** - API Level 34-36
- **Jetpack Compose** (2025.10.00) - UI Toolkit moderno

### Jetpack Libraries
- **Compose Material3** - Componentes de Material Design 3
- **Navigation Compose** (2.9.5) - Navegaci√≥n entre pantallas
- **ViewModel Compose** (2.9.4) - Gesti√≥n del estado de la UI
- **Hilt** (2.57.2) - Inyecci√≥n de dependencias (configurado)
- **Lifecycle Runtime KTX** (2.9.4) - Componentes conscientes del ciclo de vida

### Build Tools
- **Gradle** (8.12.3) - Sistema de construcci√≥n
- **KSP** (2.2.20-2.0.4) - Procesamiento de anotaciones para Kotlin

## üìã Requisitos Previos

- **Android Studio** Hedgehog (2023.1.1) o superior
- **JDK** 21 o superior
- **Android SDK** con API Level 34 o superior
- **Gradle** 8.0 o superior

## üöÄ Instalaci√≥n y Configuraci√≥n

### 1. Clonar el Repositorio

```bash
git clone https://github.com/Mariogarluu/Pokemon_Compose.git
cd Pokemon_Compose
```

### 2. Abrir en Android Studio

1. Abre Android Studio
2. Selecciona `File > Open`
3. Navega hasta la carpeta del proyecto y √°brela
4. Espera a que Gradle sincronice las dependencias

### 3. Ejecutar la Aplicaci√≥n

#### Usando un Dispositivo F√≠sico:
1. Habilita las opciones de desarrollador en tu dispositivo Android
2. Conecta el dispositivo mediante USB
3. Haz clic en el bot√≥n `Run` (‚ñ∂Ô∏è) en Android Studio

#### Usando un Emulador:
1. Abre el AVD Manager en Android Studio
2. Crea un dispositivo virtual con API Level 34 o superior
3. Inicia el emulador
4. Haz clic en el bot√≥n `Run` (‚ñ∂Ô∏è) en Android Studio

## üìÇ Estructura del Proyecto

### Modelo de Datos

```kotlin
data class Pokemon(
    val id: Long,
    val name: String,
    val spriteId: Int,     // ID del recurso drawable del sprite
    val artworkId: Int     // ID del recurso drawable del artwork
)
```

### Patr√≥n Repository

El proyecto utiliza el patr√≥n Repository para abstraer el acceso a datos:

- `PokemonRepository`: Interfaz que define las operaciones de datos
- `PokemonInMemoryRepository`: Implementaci√≥n que almacena los Pok√©mon en memoria

### ViewModel y Gesti√≥n de Estado

El **ViewModel** es el componente central de la arquitectura MVVM de esta aplicaci√≥n. Gestiona el estado de la UI y la l√≥gica de negocio, garantizando que los datos sobrevivan a cambios de configuraci√≥n como rotaciones de pantalla.

#### Implementaci√≥n del PokemonViewModel

```kotlin
class PokemonViewModel(
    private val repository: PokemonRepository = PokemonInMemoryRepository()
) : ViewModel() {

    // Estado privado mutable
    private val _uiState = MutableStateFlow<PokemonUiState>(PokemonUiState.Idle)
    // Estado p√∫blico inmutable para la UI
    val uiState: StateFlow<PokemonUiState> = _uiState

    fun loadPokemons() {
        viewModelScope.launch {
            _uiState.value = PokemonUiState.Loading
            delay(1000)
            try {
                val pokemons = repository.readAll()
                _uiState.value = PokemonUiState.Success(pokemons)
            } catch (e: Exception) {
                _uiState.value = PokemonUiState.Error("Error al cargar Pok√©mon")
            }
        }
    }

    fun getById(id: Long): Pokemon? = repository.readOne(id)
}
```

**Caracter√≠sticas clave:**

1. **Inyecci√≥n de Dependencias Manual**: El ViewModel recibe el repositorio por constructor con un valor por defecto (`PokemonInMemoryRepository()`). Esto permite:
   - Facilitar testing mediante inyecci√≥n de repositorios fake/mock
   - Desacoplar el ViewModel de la implementaci√≥n concreta
   - Preparar el c√≥digo para migrar a Hilt en el futuro

2. **StateFlow (Backing Property Pattern)**: 
   - `_uiState`: Propiedad privada mutable que solo el ViewModel puede modificar
   - `uiState`: Propiedad p√∫blica inmutable que la UI puede observar
   - Este patr√≥n previene modificaciones no autorizadas del estado desde la UI

3. **viewModelScope**: Scope de corrutinas vinculado al ciclo de vida del ViewModel que:
   - Se cancela autom√°ticamente cuando el ViewModel se destruye
   - Previene memory leaks
   - Elimina la necesidad de gestionar manualmente el ciclo de vida de las corrutinas

#### Estados de la UI con Sealed Class

El estado de la aplicaci√≥n se modela mediante una **sealed class** que define todos los estados posibles:

```kotlin
sealed class PokemonUiState {
    object Idle : PokemonUiState()
    object Loading : PokemonUiState()
    data class Success(val pokemons: List<Pokemon>) : PokemonUiState()
    data class Error(val message: String) : PokemonUiState()
}
```

**Ventajas del enfoque sealed class:**

- ‚úÖ **Type-Safety**: El compilador conoce todos los estados posibles
- ‚úÖ **Exhaustividad**: En un `when`, el compilador obliga a manejar todos los casos
- ‚úÖ **Estados mutuamente excluyentes**: La aplicaci√≥n solo puede estar en un estado a la vez
- ‚úÖ **Datos asociados**: Cada estado puede tener sus propios datos (Success tiene la lista, Error tiene el mensaje)

#### Flujo de Estados

```
1. Idle (inicial)
   ‚Üì
2. Loading (cargando datos)
   ‚Üì
3a. Success(pokemons) ‚Üí Muestra la lista
   O
3b. Error(mensaje) ‚Üí Muestra error
```

#### Uso en Composables

```kotlin
@Composable
fun PokemonListScreen(
    navController: NavController,
    viewModel: PokemonViewModel = viewModel()
) {
    val uiState by viewModel.uiState.collectAsState()

    LaunchedEffect(Unit) {
        viewModel.loadPokemons()
    }

    when (uiState) {
        is PokemonUiState.Idle -> EmptyScreen()
        is PokemonUiState.Loading -> LoadingScreen()
        is PokemonUiState.Success -> {
            val pokemons = (uiState as PokemonUiState.Success).pokemons
            PokemonList(pokemons = pokemons) { pokemon ->
                navController.navigate("Pokemon/${pokemon.id}")
            }
        }
        is PokemonUiState.Error -> ErrorScreen((uiState as PokemonUiState.Error).message)
    }
}
```

**Explicaci√≥n del c√≥digo:**

1. **`viewModel()`**: Obtiene o crea una instancia del ViewModel vinculada al ciclo de vida del composable
2. **`collectAsState()`**: Convierte el StateFlow en un State de Compose, permitiendo recomposiciones autom√°ticas
3. **`LaunchedEffect(Unit)`**: Ejecuta la carga de datos una sola vez cuando el composable entra en composici√≥n
4. **`when (uiState)`**: Pattern matching exhaustivo que renderiza la UI seg√∫n el estado actual

#### Beneficios de esta Arquitectura

1. **Supervivencia a cambios de configuraci√≥n**: Los datos se mantienen al rotar la pantalla
2. **Separaci√≥n de responsabilidades**: La UI solo observa y renderiza, el ViewModel gestiona la l√≥gica
3. **Testabilidad**: La l√≥gica de negocio puede testearse sin el framework de Android
4. **Reactividad**: La UI se actualiza autom√°ticamente cuando cambia el estado
5. **Manejo robusto de errores**: Los errores se capturan y representan como estados

#### Preparaci√≥n para Inyecci√≥n de Dependencias con Hilt

Aunque actualmente se usa inyecci√≥n manual, el c√≥digo est√° preparado para migrar a Hilt:

```kotlin
// Futuro con Hilt:
@HiltViewModel
class PokemonViewModel @Inject constructor(
    private val repository: PokemonRepository
) : ViewModel() {
    // ...
}
```

El patr√≥n actual de constructor injection facilita esta transici√≥n sin cambiar la l√≥gica interna del ViewModel.

> **üìö Nota**: Para una explicaci√≥n m√°s detallada sobre ViewModels, StateFlow, corrutinas y conceptos avanzados, consulta el documento [VIEWMODEL_NOTES.md](VIEWMODEL_NOTES.md) que incluye ejemplos, diagramas y mejores pr√°cticas.

### Navegaci√≥n

La aplicaci√≥n utiliza Navigation Compose con dos rutas:
- `PokemonList`: Pantalla principal con la lista de Pok√©mon
- `Pokemon/{PokemonId}`: Pantalla de detalle con el artwork del Pok√©mon

## üéØ Funcionalidades Principales

### Pantalla de Lista
- Muestra todos los Pok√©mon en una lista scrollable
- Cada tarjeta muestra el sprite y el nombre del Pok√©mon
- Al tocar una tarjeta, navega a la pantalla de detalle

### Pantalla de Detalle
- Muestra el artwork en alta calidad del Pok√©mon seleccionado
- Incluye el nombre del Pok√©mon en la barra superior
- Bot√≥n de retroceso para volver a la lista

## üîÑ Flujo de la Aplicaci√≥n

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MainActivity       ‚îÇ
‚îÇ  (Entry Point)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PokemonListScreen  ‚îÇ
‚îÇ  (Lista de Cards)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îÇ onClick(pokemonId)
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ PokemonDetailScreen ‚îÇ
‚îÇ (Artwork grande)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üß™ Testing

El proyecto incluye configuraci√≥n para:
- **JUnit** (4.13.2) - Tests unitarios
- **Espresso** (3.7.0) - Tests de UI
- **Compose UI Test** - Tests espec√≠ficos de Compose

Para ejecutar los tests:

```bash
./gradlew test           # Tests unitarios
./gradlew connectedAndroidTest  # Tests instrumentados
```

## üîß Configuraci√≥n de Gradle

### Versi√≥n de SDK
- **Compile SDK**: 36
- **Min SDK**: 34
- **Target SDK**: 36

### Caracter√≠sticas de Build
- **Jetpack Compose**: Habilitado
- **Java Version**: 21
- **ProGuard**: Configurado para release builds

## ü§ù Contribuir

Las contribuciones son bienvenidas. Si deseas mejorar el proyecto:

1. Haz un fork del repositorio
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

### Gu√≠a de Estilo
- Sigue las convenciones de c√≥digo de Kotlin
- Usa nombres descriptivos para variables y funciones
- A√±ade comentarios cuando sea necesario
- Aseg√∫rate de que el c√≥digo compile sin warnings

## üìù Mejoras Futuras

- [ ] Integraci√≥n con la API de Pok√©mon (PokeAPI)
- [ ] Implementaci√≥n de Hilt para inyecci√≥n de dependencias
- [ ] Base de datos local con Room
- [ ] B√∫squeda y filtrado de Pok√©mon
- [ ] Informaci√≥n detallada (tipos, estad√≠sticas, evoluciones)
- [ ] Modo oscuro
- [ ] Animaciones y transiciones
- [ ] Favoritos y colecciones personalizadas
- [ ] Soporte para m√°s generaciones de Pok√©mon

## üìÑ Licencia

Este proyecto es un proyecto educativo de c√≥digo abierto. Los sprites y artwork de Pok√©mon son propiedad de Nintendo, Game Freak y The Pok√©mon Company.

## üë§ Autor

**Mario Garc√≠a**
- GitHub: [@Mariogarluu](https://github.com/Mariogarluu)

## üôè Agradecimientos

- Sprites y artwork obtenidos de recursos oficiales de Pok√©mon
- Jetpack Compose por hacer el desarrollo de UI m√°s intuitivo
- La comunidad de Android por el soporte y recursos

---

‚≠ê Si te gusta este proyecto, ¬°no olvides darle una estrella!

**Nota**: Esta aplicaci√≥n es solo para fines educativos y demostraci√≥n de tecnolog√≠as Android modernas.
